<!doctype html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Sabertooth</title>
    <link rel="shortcut icon" type="image/png" href="https://avatars3.githubusercontent.com/u/19232538?v=3&s=200"/>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href='https://fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600' rel='stylesheet' type='text/css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  </head>

  <body>
    <div class="wrapper">
      <header>
        <h1>web-bluetooth</h1>
        <h3>A Javascript Library for interacting with Bluetooth Low Energy Devices.</h3>
        <p></p>


        <p class="view">
          <a href="https://github.com/sabertooth-io">View on GitHub</a>
          <br>
          <a href="https://npmjs.com/package/web-bluetooth">View package on NPM</a>
          <br>
          View package on Bower (coming soon!)
        </p>
        <hr>
        <p>
          <a href="#intro">Intro</a>
          <br>
          <a href="#overview">Overview</a>
          <br>
          <a href="#getting-started">Getting Started</a>
        </p>
        <hr>
        <h4>Docs</h4>
        <p>
          <a href="#general-accessibility">General Accessibility</a>
          <br>
          <a href="#gatt-support">GATT Services Support</a>
        </p>
        <hr class="hr-methods">
        <p>
          <a href="#method-newdevice">Creating a new Bluetooth Device Object</a>
          <br>
          <a href="#method-connect">.connect()</a>
          <br>
          <a href="#method-disconnect">.disconnect()</a>
          <br>
          <a href="#method-getvalue">.getValue()</a>
        </p>
        <hr>
        <h4>Demo</h4>
        <p>
          <a href="#demo">Battery Service</a>
        </p>
        <hr>
        <h4>Appendix</h4>
        <p>
          <a href="#serviceschars">Fully Supported GATT Services &#38; GATT Characteristics</a>
        </p>
      </header>
      <section>
        <h3>
<a id="intro" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bridging the gap between the web and the physical world through Bluetooth.</h3>
        <img class="intro-infographic" src="assets/BLE-WebInfographic.svg" height="80%" width="80%" horizontal-align="center">
        <p>Bluetooth devices are everywhere, and as developers, we want to write useful, fun, and powerful applications for them. Until recently, this meant writing native applications that had to be installed on user devices- a burdensome process for both users and developers. With the number of Bluetooth devices around us, a more direct and intuitive interface was long overdue. Now, thanks to the <a href="https://www.w3.org/community/web-bluetooth/">Web Bluetooth Community Group</a> and their work to bring us the <a href="https://webbluetoothcg.github.io/web-bluetooth/">Web Bluetooth API</a>, we have the ability to interact directly with Bluetooth 4.0 devices through the browser. Connecting, reading, and writing to and from Bluetooth devices is all made possible through the Web Bluetooth API and modern web browsers like Chrome, Firefox, and Opera who are incresingly adding support for new features in the Web Bluetooth API Spec.</p>
        <p>We at Sabertooth are excited by the potential for the Web Bluetooth API, but also recognize that developers like ourselves just want to build things, not spend time wading through documentation and hiking up the learning curve with every new technology we use. Sabertooth is an attempt to harness the power of the Web Bluetooth API and make it easily accessible to developers through a simple and intuitive framework. In short, we want you to start building powerful, browser-based Bluetooth applications quickly and effortlessly, and have fun doing it.</p>

        <h3>
<a id="overview" class="anchor" href="#designer-templates" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview</h3>

        <p>Sabertooth is a configurable application framework for integrating bluetooth functionality with client-side Javascript.</p>

        <h3>
<a id="getting-started" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Getting Started</h3>

        <p>Sabertooth (currently v1.0.0) has a few easy ways to quickly get started, each one appealing to your preferences.</p>
        <blockquote >Note: Sabertooth package names and file names appear as 'web-bluetooth' throughout the documentation, consistent with actual package names and file names you will encounter while working with Sabertooth.</blockquote>
        <br>
        <h4>Download</h4>
        <p>You can install Sabertooth by downloading our minified framework <a href="https://github.com/sabertooth-io/web-bluetooth/archive/master.zip" target="_blank">here</a>.</p>
        <p>Make the library available by referencing it in your index.html file.</p>
        <pre><code class="code">&#60;script&#62;/lib/web-bluetooth.js&#60;/script&#62;</code></pre>

        <h4>Install with npm</h4>
        <p>You can install Sabertooth as the npm package 'web-bluetooth' <a href="https://npmjs.com/package/web-bluetooth" target="_blank"> here</a>.</p>

        <p>Or run the command-line script below in the project directory in which you would like to use Sabertooth.</p>
        <pre><code class="code">$ npm install web-bluetooth</code></pre>
        <!--FIXME: We're not doing an iffy anymore, what is the right thing to show here?  -->
        <p style="color:red;">Require('web-bluetooth') will load all of the files necessary to run Sabertooth.</p>
        <pre><code style="color:red;" class="code">const bluetooth = require('web-bluetooth');</code></pre>
        <!-- <h4>Install with Bower</h4>
        <p>You can install web-bluetooth with <a href="http://bower.io/" target="_blank">Bower</a></p>
        <pre><code class="code">$ bower install web-bluetooth</code></pre> -->

        <h3 id="general-accessibility">
            <span aria-hidden="true" class="octicon octicon-link"></span>General Accesibility
        </h3>
        <p>While the Web Bluetooth API is still in development, certain features have been made available.
          </p>
          <div>
            <blockquote>
              Note: The functionality of Sabertooth is contingent upon the permissions and availabilities of the Web Bluetooth API. The Web Bluetooth API is still in development and many features have not been
              implemented across browsers. For the current status of the API, please follow this
              <a href="https://webbluetoothcg.github.io/web-bluetooth/" target="_blank">link</a>.
            </blockquote>
          </div>
        <table class="tables">
          <tr>
            <th id="feature-type">Feature</th>
            <th>ChromeOS</th>
            <th>Android Mobile</th>
            <th>MacOSX</th>
          </tr>
          <tr>
            <td id="feature-type">Device Discovery</td>
            <td>✓</td>
            <td>✓</td>
            <td>✓</td>
          </tr>
          <tr>
            <td id="feature-type">Device Connecting</td>
            <td>✓</td>
            <td>✓</td>
            <td>✓</td>
          </tr>
          <tr>
            <td id="feature-type">Device Disconnecting</td>
            <td>✓</td>
            <td>✓</td>
            <td>✓</td>
          </tr>
          <tr>
            <td id="feature-type">Device Services Read</td>
            <td>✓</td>
            <td>✓</td>
            <td></td>
          </tr>
        </table>
        <blockquote >Note: To enable the browser to use the Web Bluetooth API (and Sabertooth), experimental flags must be enabled and an https server are required. Please see <a href="https://developers.google.com/web/updates/2015/07/interact-with-ble-devices-on-the-web">Interact with BLE Devices on the Web</a> for more information.
        </blockquote>
        <br>
        <h3><span aria-hidden="true" class="octicon octicon-link"></span>GATT Attributes</h3>
        <p>A basic understanding of the <a href="https://developer.bluetooth.org/TechnologyOverview/Pages/GATT.aspx">Generic Attribute Profile (GATT)</a> is helpful when writing applications to interact with Bluetooth devices, but using Sabertooth requires an understanding of two main GATT attributes, GATT services and GATT characteristics.</p>
        <p><b>GATT Services</b> are collections of GATT characteristics, and  <b>GATT Characteristics</b> are attributes that contain a single value. For example, the GATT service 'battery_service' contains the GATT characteristic 'battery_level', which itself contains the value of the device's battery level at a given time.</p>
          <p>Sabertooth abstracts over core GATT services and GATT characteristics with special attention to GATT services and GATT characteristics that are more common and that are most applicable in this current stage of Bluetooth
          device availability, but also allows for the use of virtually any GATT service or GATT characteristic, as well as non-GATT services and non-GATT characteristics.</p>
          <p>For the full list of normative Services click <a href="https://webbluetoothcg.github.io/web-bluetooth/" target="_blank">here</a>. As the Web Bluetooth API continues to be
          developed and as this library matures, more service types will be made available.</p>
        <table class="tables">
          <tr>
            <th id="feature-type">Service</th>
            <th>Assigned Number</th>
            <th>Characteristic</th>
            <th>Assigned Number</th>
            <th>Supported</th>
          </tr>
          <tr> <td> alert_notification</td> <td>0x1811</td><td>alert_notification_control_point</td><td>0x2A44</td><td></td></tr>
          <tr> <td> alert_notification</td> <td>0x1811</td><td>new_alert</td><td>0x2A46</td><td></td></tr>
          <tr> <td> alert_notification</td> <td>0x1811</td><td>supported_new_alert_category</td><td>0x2A47</td><td></td></tr>
          <tr> <td> alert_notification</td> <td>0x1811</td><td>supported_unread_alert_category</td><td>0x2A48</td><td></td></tr>
          <tr> <td> alert_notification</td> <td>0x1811</td><td>unread_alert_status</td><td>0x2A45</td><td></td></tr>
          <tr> <td> automation_io</td> <td>0x1815</td><td>aggregate</td><td>0x2A5A</td><td></td></tr>
          <tr> <td> automation_io</td> <td>0x1815</td><td>analog</td><td>0x2A58</td><td></td></tr>
          <tr> <td> automation_io</td> <td>0x1815</td><td>digital</td><td>0x2A56</td><td></td></tr>
          <tr> <td> battery_service</td> <td>0x180F</td><td>battery_level</td><td>0x2A19</td><td></td></tr>
          <tr> <td> blood_pressure</td> <td>0x1810</td><td>blood_pressure_feature</td><td>0x2A49</td><td></td></tr>
          <tr> <td> blood_pressure</td> <td>0x1810</td><td>blood_pressure_measurement</td><td>0x2A35</td><td></td></tr>
          <tr> <td> blood_pressure</td> <td>0x1810</td><td>intermediate_cuff_pressure</td><td>0x2A36</td><td></td></tr>
          <tr> <td> body_composition</td> <td>0x181B</td><td>body_composition_feature</td><td>0x2A9B</td><td></td></tr>
          <tr> <td> body_composition</td> <td>0x181B</td><td>body_composition_measurement</td><td>0x2A9C</td><td></td></tr>
          <tr> <td> bond_management</td> <td>0x181E</td><td>bond_management_control_point</td><td>0x2AA4</td><td></td></tr>
          <tr> <td> bond_management</td> <td>0x181E</td><td>bond_management_feature</td><td>0x2AA5</td><td></td></tr>
          <tr> <td> continuous_glucose_monitoring</td> <td>0x181F</td><td>cgm_feature</td><td>0x2AA8</td><td></td></tr>
          <tr> <td> continuous_glucose_monitoring</td> <td>0x181F</td><td>cgm_measurement</td><td>0x2AA7</td><td></td></tr>
          <tr> <td> continuous_glucose_monitoring</td> <td>0x181F</td><td>cgm_session_run_time</td><td>0x2AAB</td><td></td></tr>
          <tr> <td> continuous_glucose_monitoring</td> <td>0x181F</td><td>cgm_session_start_time</td><td>0x2AAA</td><td></td></tr>



          <tr>
            <td id="feature-type">Battery Service</td>
            <td>✓</td>
            <td>'battery_service'</td>
            <td>0x180F</td>
          </tr>
          <tr>
            <td id="feature-type">Blood Pressure</td>
            <td></td>
            <td>'blood_pressure'</td>
            <td>0x1810</td>
          </tr>
          <tr>
            <td id="feature-type">Cycling Power</td>
            <td></td>
            <td>'cycling_power'</td>
            <td>0x1818</td>
          </tr>
          <tr>
            <td id="feature-type">Cycling Speed and Cadence</td>
            <td></td>
            <td>'cycling_speed_and_cadence'</td>
            <td>0x1816</td>
          </tr>
          <tr>
            <td id="feature-type">Device Info</td>
            <td>✓</td>
            <td>'device_information'</td>
            <td>0x180A</td>
          </tr>
          <tr>
            <td id="feature-type">Generic Access</td>
            <td>✓</td>
            <td>'generic_access'</td>
            <td>0x1800</td>
          </tr>
          <tr>
            <td id="feature-type">Generic Attribute</td>
            <td>✓</td>
            <td>'generic_attribute'</td>
            <td>0x1801</td>
          </tr>
          <tr>
            <td id="feature-type">Health Thermometer</td>
            <td></td>
            <td>'health-thermometer'</td>
            <td>0x1809</td>
          </tr>
          <tr>
            <td id="feature-type">Heart Rate</td>
            <td>✓</td>
            <td>'health-heart_rate'</td>
            <td>0x180D</td>
          </tr>
          <tr>
            <td id="feature-type">Running Speed and Cadence</td>
            <td></td>
            <td>'running_speed_and_cadence'</td>
            <td>0x1814</td>
          </tr>
          <tr>
            <td id="feature-type">Tx Power</td>
            <td>✓</td>
            <td>'tx_power'</td>
            <td>0x1804</td>
          </tr>
        </table>
        <h3 id="general-methods">
            <span aria-hidden="true" class="octicon octicon-link"></span>General Methods Provided by Library
        </h3>
        <h4 class="method-name" id="method-newdevice">
          Create a New Bluetooth Device Object
        </h4>
        <p>Before calling methods on your Bluetooth device, create a new Bluetooth device object.</p>
        <pre><code>var fitbit = new Device({
  namePrefix: 'Surge'
  services: ['battery_service']
});</code></pre>
        <p>In the example above, we have created a new Bluetooth device object titled 'blue' by requesting the
          object with it's 'namePrefix' and a service of 'battery service'.
          <br>
          Device is a constructor that takes in an object corresponding to attributes on the bluetooth device.
          Below is a schema for what can be used to connect to a device. At least one option is needed to request a device.
          <pre><code>{
  name: 'device_name',
  namePrefix: 'devicePrefix',
  uuid: 'uuid',
  service: 'service'
}</code></pre>
          <code>'name': </code>is the name (hardware) of the device<br>
          <code>'namePrefix': </code>looks for a name starting with namePrefix<br>
          <code>'services': </code>represents a 128-bit UUID. A valid UUID is a string that matches
          the regexp '/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/'<br>
          <code>'uuid': </code>collection of characteristics and the relationships to other services
          encapsulate the behavior of part of a device
        </p>
        <hr>
        <h4 class="method-name" id="method-connect">
          .connect()
        </h4>
        <p>Method allows you to establish a persistent connection with a Bluetooth device.</p>
        <pre><code>fitbit.connect(connectedDevice,(server) => {
  connectedDevice = device;
};</code></pre>
        <hr>
        <h4 class="method-name" id="method-disconnect">
          .disconnect()
        </h4>
        <p>Method disconnects you from the device.</p>
        <pre><code>fitbit.disconnect();</code></pre>
        <hr>
        <h4 class="method-name" id="method-getvalue">
          <span  aria-hidden="true" class="octicon octicon-link"></span>.getValue('service')
        </h4>
        <p>Method reads the value from the device you are connected to by passing in the characteristic as a string.</p>
        <pre><code>fitbit
  .getValue('battery_service')
    .then(value => {
      console.log(value);
    });</code></pre>
        <p>In the above example, .getValue() returns the current battery level as a percentage from 0% to 100%;
          0% represents a battery that is fully discharged, 100% represents a battery that is fully charged.</p>
        <hr>
        <h4 class="method-name" id="method-postvalue">
          <span  aria-hidden="true" class="octicon octicon-link"></span>.postValue('service', 'value')
        </h4>
        <p>Method takes a characteristic name and value. It changes the value of the specified characteristic to the value that was passed in.</p>
        <pre><code>fitbit
  .postValue('gap.device_name', 'myFitbit )
    .then(changedCharacteristicName => {
      console.log(changedCharacteristicName);
    }); </code></pre>
        <p>In the above example, .postValue() changes the name of the instantiated device to myFitbit.</p>
        <h4 class="method-name" id="method-startnotifications">
          <span  aria-hidden="true" class="octicon octicon-link"></span>.startNotifications('characteristic', 'value')
        </h4>
        <p>Method takes a characteristic name and a callback function. Provided that the characteristic has a 'notify' property, .startNotifications() will pass the event object broadcasted by the characteristic as the parameter of the callback, and run the callback any time a new event occurs.</p>
        <pre><code>fitbit
  .startNotifications('heart_rate_measurement', e => {
    var newHR = parseHeartRate(e.target.value);
    console.log(newHR.heartRate);
}); </code></pre>
        <p>This method allows us to access streams of data. In the above example, .startNotifications() accesses the heart_rate_measurement characteristic on a fitbit, and prints the heart rate to the console every time an event fires. This 'notifies' us of the heart rate at regular intervals. </p>
         <h4 class="method-name" id="method-startnotifications">
          <span  aria-hidden="true" class="octicon octicon-link"></span>.stopNotifications('characteristic')
        </h4>
         <p>This method stops the notifications streaming from the specified characteristic on the device.</p>
         <pre><code>fitbit
  .stopNotifications('heart_rate_measurement'); </code></pre>
        <hr>
        <h3 id="demo">
          Demo
        </h3>
        <h4>Battery Service</h4>
        <a href="https://github.com/sabertooth-io/demo-battery_service" target="_blank"><img src="assets/battery_service.png" height="80%" width="80%" horizontal-align="center"></a>
        <p>This demo uses the Web-Bluetooth library to connect to a device broadcasting a Battery Service characteristic and reads it's level.</p>
        <p>
          <a href="http://demo-battery-service.herokuapp.com/" target="_blank">View the demo.</a> |
          <a href="https://github.com/sabertooth-io/demo-battery_service" target="_blank">Visit the GitHub page.</a>
        </p>
        <p>Notes: <br>
          • Requires Android 6.0 Marshmellow or ChromeOS.<br>
          • Enable the 'Web Bluetooth' flag.
          <hr>
          <h3 id="serviceschars">
            Fully Supported GATT Services &#38; GATT Characteristics
          </h3>
          <h4>Battery Service</h4>
          <a href="https://github.com/sabertooth-io/demo-battery_service" target="_blank"><img src="assets/battery_service.png" height="80%" width="80%" horizontal-align="center"></a>
          <p>This demo uses the Web-Bluetooth library to connect to a device broadcasting a Battery Service characteristic and reads it's level.</p>
          <p>
            <a href="http://demo-battery-service.herokuapp.com/" target="_blank">View the demo.</a> |
            <a href="https://github.com/sabertooth-io/demo-battery_service" target="_blank">Visit the GitHub page.</a>
          </p>
          <p>Notes: <br>
            • Requires Android 6.0 Marshmellow or ChromeOS.<br>
            • Enable the 'Web Bluetooth' flag.
        </p>
          <h3>
            <span id="authors-contributors" aria-hidden="true" class="octicon octicon-link"></span>Authors and Contributors
          </h3>
          <p>Sabertooth is a team of four software developers enthusiastic to be contributing to the open source community. Visit their GitHub page for more information.</p>
      </section>
    </div>
    <script src="javascripts/scale.fix.js"></script>

  </body>

</html>
